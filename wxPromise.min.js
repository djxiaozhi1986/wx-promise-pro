"use strict"; Promise.prototype.finally || (Promise.prototype.finally = function (o) { var n = this.constructor; return this.then(function (r) { return n.resolve(o()).then(function () { return r }) }, function (r) { return n.resolve(o()).then(function () { throw r }) }) }); var promisify = function (o) { return function (n) { for (var r = arguments.length, e = Array(r > 1 ? r - 1 : 0), t = 1; t < r; t++)e[t - 1] = arguments[t]; return new Promise(function (r, t) { o.apply(void 0, [Object.assign({}, n, { success: r, fail: t })].concat(e)) }) } }; wx.pro = {}; var wxPromise = function () { for (var o in wx) /^on|^create|Sync$|Manager$|^pause/.test(o) && "createBLEConnection" !== o || "stopRecord" === o || "stopVoice" === o || "stopBackgroundAudio" === o || "stopPullDownRefresh" === o || "hideKeyboard" === o || "hideToast" === o || "hideLoading" === o || "showNavigationBarLoading" === o || "hideNavigationBarLoading" === o || "canIUse" === o || "navigateBack" === o || "closeSocket" === o || "closeSocket" === o || "pageScrollTo" === o || "drawCanvas" === o ? wx.pro[o] = wx[o] : wx.pro[o] = promisify(wx[o]) }; wxPromise();
